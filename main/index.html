<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="A set of common CI/CD workflows originally designed and developed for
    Admiral R package hosted in the Pharmaverse GitHub organization.">
<title>ADaM in R Asset Library - CI/CD Workflows • admiralci</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.1.3/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.1.3/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.rawgit.com/afeld/bootstrap-toc/v1.0.1/dist/bootstrap-toc.min.js"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="ADaM in R Asset Library - CI/CD Workflows">
<meta property="og:description" content="A set of common CI/CD workflows originally designed and developed for
    Admiral R package hosted in the Pharmaverse GitHub organization.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">admiralci</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.1</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/adxx.html">Creating ADXX</a>
    <a class="dropdown-item" href="articles/tweak-page-hooks.html">Custom pkgdown tweak page hooks</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="news/index.html">Changelog</a>
</li>
<!-- start dropdown for versions --> <li class="nav-item dropdown">
        <a href="#" class="nav-link dropdown-toggle"
          data-bs-toggle="dropdown" role="button"
          aria-expanded="false" aria-haspopup="true"
          id="dropdown-versions">Versions</a> <div class="dropdown-menu" aria-labelledby="dropdown-versions"> <a class="dropdown-item" data-toggle="tooltip" title="" href="https://pharmaverse.github.io/admiralci/main">main</a> </div></li>
<!-- end dropdown for versions -->
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/pharmaverse/admiralci">
    <span class="fa fa-github"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="cicd-workflows-for-admiral-r-packages">CI/CD Workflows for Admiral R Packages<a class="anchor" aria-label="anchor" href="#cicd-workflows-for-admiral-r-packages"></a>
</h1></div>
<p>This repository contains GitHub Actions continuous integration/continuous delivery (CI/CD) workflows, most of which are used by <a href="https://github.com/pharmaverse/admiral" class="external-link"><code>Admiral</code></a> and its extensions extensions. Workflows defined here are responsible for assuring high package quality standards without compromising performance, security, or reproducibility.</p>
<p>Please refer to the <a href=".github/workflows"><code>.github/workflows</code></a> directory to view the source code for the GitHub Actions workflows.</p>
<div class="section level2">
<h2 id="what-these-workflows-do">What these workflows do?<a class="anchor" aria-label="anchor" href="#what-these-workflows-do"></a>
</h2>
<p>Most workflows have a <code>BEGIN boilderplate steps</code> and <code>END boilderplate steps</code> section within them which define some standard steps required for installing system dependencies, R version and R packages which serve as dependencies for the package.</p>
<p>The underlying mechanisms for installing R and Pandoc are defined in <a href="https://github.com/r-lib/actions" class="external-link"><code>r-lib/actions</code></a>, while the installation of system dependencies and R package dependencies is managed via the <a href="https://github.com/marketplace/actions/staged-dependencies-action" class="external-link">Staged Dependencies GitHub Action</a>. The latter is used in conjunction with the <a href="staged_dependencies.yaml"><code>staged_dependencies.yaml</code></a> file in order to install dependencies that are in the <em>same stage of development</em> as the current package. You can read more about how it works <a href="https://github.com/openpharma/staged.dependencies" class="external-link">here</a>. Note that the latter is not necessary for this workflow to work and is completely optional.</p>
<p>Following the installation of system dependencies, R, and package dependencies, each workflow does something different.</p>
<div class="section level3">
<h3 id="check-templatesyml">
<a href="https://github.com/pharmaverse/admiralci/blob/HEAD/.github/workflows/check-templates.yml"><code>check-templates.yml</code></a><a class="anchor" aria-label="anchor" href="#check-templatesyml"></a>
</h3>
<p><a href="https://github.com/pharmaverse/admiralci/actions/workflows/check-templates.yml" class="external-link"><img src="https://github.com/pharmaverse/admiralci/actions/workflows/check-templates.yml/badge.svg" alt="Check Templates"></a></p>
<p>This workflow checks for issues within template scripts. For example, in admiral package there are several template scripts with admiral-based functions showing how to build certain ADaM datasets. As we update the admiral functions, we want to make sure these template scripts execute appropriately. Functions in the template scripts that are deprecated or used inappropriately will cause this workflow to fail.</p>
</div>
<div class="section level3">
<h3 id="code-coverageyml">
<a href="https://github.com/pharmaverse/admiralci/blob/HEAD/.github/workflows/code-coverage.yml"><code>code-coverage.yml</code></a><a class="anchor" aria-label="anchor" href="#code-coverageyml"></a>
</h3>
<p><a href="https://github.com/pharmaverse/admiralci/actions/workflows/code-coverage.yml" class="external-link"><img src="https://github.com/pharmaverse/admiralci/actions/workflows/code-coverage.yml/badge.svg" alt="Code Coverage"></a></p>
<p>This workflow measures code coverage for unit tests and reports the code coverage as a percentage of the <em>total number of lines covered by unit tests</em> vs. the <em>total number of lines in the codebase</em>.</p>
<p>The <a href="https://covr.r-lib.org/" class="external-link"><code>covr</code></a> R package is used to calculate the coverage.</p>
<p>Report summaries and badges for coverage are generated using a series of other GitHub Actions.</p>
<p>For this workflow to execute successfully, you will need to create an orphan branch called <code>badges</code> in your GitHub repository. You can do that using the following steps:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode R"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1"></a><span class="co"># Create orphan branch</span></span>
<span id="cb1-2"><a href="#cb1-2"></a>git checkout <span class="op">--</span>orphan badges</span>
<span id="cb1-3"><a href="#cb1-3"></a><span class="co"># Back up files</span></span>
<span id="cb1-4"><a href="#cb1-4"></a>mv .git <span class="op">/</span>tmp<span class="op">/</span>.git<span class="op">-</span>backup</span>
<span id="cb1-5"><a href="#cb1-5"></a><span class="co"># Remove everything else</span></span>
<span id="cb1-6"><a href="#cb1-6"></a>rm <span class="op">-</span>rf <span class="op">*</span><span class="st"> </span>.<span class="op">*</span></span>
<span id="cb1-7"><a href="#cb1-7"></a><span class="co"># Restore git files</span></span>
<span id="cb1-8"><a href="#cb1-8"></a>mv <span class="op">/</span>tmp<span class="op">/</span>.git<span class="op">-</span>backup .git</span>
<span id="cb1-9"><a href="#cb1-9"></a><span class="co"># Create a README file</span></span>
<span id="cb1-10"><a href="#cb1-10"></a>echo <span class="st">"# Badges"</span> <span class="op">&gt;</span><span class="st"> </span>README.md</span>
<span id="cb1-11"><a href="#cb1-11"></a><span class="co"># Add, commit and push your new branch</span></span>
<span id="cb1-12"><a href="#cb1-12"></a>git add . <span class="op">&amp;&amp;</span><span class="st"> </span>git commit <span class="op">-</span>m <span class="st">"Init badges"</span> <span class="op">&amp;&amp;</span><span class="st"> </span>git push origin badges</span></code></pre></div>
</div>
<div class="section level3">
<h3 id="linksyml">
<a href="https://github.com/pharmaverse/admiralci/blob/HEAD/.github/workflows/links.yml"><code>links.yml</code></a><a class="anchor" aria-label="anchor" href="#linksyml"></a>
</h3>
<p><a href="https://github.com/pharmaverse/admiralci/actions/workflows/links.yml" class="external-link"><img src="https://github.com/pharmaverse/admiralci/actions/workflows/links.yml/badge.svg" alt="Check URLs"></a></p>
<p>This workflow checks whether URLs embedded in code and documentation are valid. Invalid URLs result in workflow failures. This workflow uses <a href="https://github.com/lycheeverse/lychee" class="external-link"><code>lychee</code></a> to detect broken links. Occasionally this check will detect false positives of urls that look like urls. To remedy, please add this false positive to the <code>.lycheeignore</code> file.</p>
</div>
<div class="section level3">
<h3 id="lintryml">
<a href="https://github.com/pharmaverse/admiralci/blob/HEAD/.github/workflows/lintr.yml"><code>lintr.yml</code></a><a class="anchor" aria-label="anchor" href="#lintryml"></a>
</h3>
<p><a href="https://github.com/pharmaverse/admiralci/actions/workflows/lintr.yml" class="external-link"><img src="https://github.com/pharmaverse/admiralci/actions/workflows/lintr.yml/badge.svg" alt="Lint"></a></p>
<p>Static code analysis is performed by this workflow, which in turn uses the <a href="https://lintr.r-lib.org/" class="external-link"><code>lintr</code></a> R package.</p>
<p>Any <a href=".lintr"><code>.lintr</code></a> configurations in the repository will be by this workflow.</p>
</div>
<div class="section level3">
<h3 id="man-pagesyml">
<a href="https://github.com/pharmaverse/admiralci/blob/HEAD/.github/workflows/man-pages.yml"><code>man-pages.yml</code></a><a class="anchor" aria-label="anchor" href="#man-pagesyml"></a>
</h3>
<p><a href="https://github.com/pharmaverse/admiralci/actions/workflows/man-pages.yml" class="external-link"><img src="https://github.com/pharmaverse/admiralci/actions/workflows/man-pages.yml/badge.svg" alt="Man Pages"></a></p>
<p>This workflow checks if the manual pages in the <code>man/</code> directory of the package are up-to-date with ROxygen comments in the code.</p>
<p>Workflow failures indicate that the manual pages are not up-to-date with ROxygen comments, and corrective actions are provided in the workflow log.</p>
</div>
<div class="section level3">
<h3 id="pkgdownyml">
<a href="https://github.com/pharmaverse/admiralci/blob/HEAD/.github/workflows/pkgdown.yml"><code>pkgdown.yml</code></a><a class="anchor" aria-label="anchor" href="#pkgdownyml"></a>
</h3>
<p><a href="https://github.com/pharmaverse/admiralci/actions/workflows/pkgdown.yml" class="external-link"><img src="https://github.com/pharmaverse/admiralci/actions/workflows/pkgdown.yml/badge.svg" alt="Documentation"></a></p>
<p>Documentation for the R package is generated via this workflow. This workflow uses the <a href="https://pkgdown.r-lib.org/" class="external-link"><code>pkgdown</code></a> framework to generate documentation in HTML, and the HTML pages are deployed to the <code>gh-pages</code> branch.</p>
<p>Moreover, an additional <code>Versions</code> dropdown is generated via the <a href="https://github.com/marketplace/actions/r-pkgdown-multi-version-docs" class="external-link"></a> GitHub Action, so that an end user can view multiple versions of the documentation for the package.</p>
</div>
<div class="section level3">
<h3 id="r-cmd-checkyml">
<a href="https://github.com/pharmaverse/admiralci/blob/HEAD/.github/workflows/r-cmd-check.yml"><code>r-cmd-check.yml</code></a><a class="anchor" aria-label="anchor" href="#r-cmd-checkyml"></a>
</h3>
<p><a href="https://github.com/pharmaverse/admiralci/actions/workflows/r-cmd-check.yml" class="external-link"><img src="https://github.com/pharmaverse/admiralci/actions/workflows/r-cmd-check.yml/badge.svg" alt="R CMD Check"></a></p>
<p>This workflow performs <code>R CMD check</code> for the package. Failed workflows are typically indicative of problems encountered during the check, and therefore an indication that the package does not meet quality standards.</p>
</div>
<div class="section level3">
<h3 id="r-pkg-validationyml">
<a href="https://github.com/pharmaverse/admiralci/blob/HEAD/.github/workflows/r-pkg-validation.yml"><code>r-pkg-validation.yml</code></a><a class="anchor" aria-label="anchor" href="#r-pkg-validationyml"></a>
</h3>
<p><a href="https://github.com/pharmaverse/admiralci/actions/workflows/r-pkg-validation.yml" class="external-link"><img src="https://github.com/pharmaverse/admiralci/actions/workflows/r-pkg-validation.yml/badge.svg" alt="R Package Validation report"></a></p>
<p>When a new release of the package is made, this workflow executes to create a validation report via <a href="https://github.com/marketplace/actions/r-package-validation-report" class="external-link">theValidatoR</a>. The PDF report is then attached to the release within GitHub.</p>
</div>
<div class="section level3">
<h3 id="readme-renderyml">
<a href="https://github.com/pharmaverse/admiralci/blob/HEAD/.github/workflows/readme-render.yml"><code>readme-render.yml</code></a><a class="anchor" aria-label="anchor" href="#readme-renderyml"></a>
</h3>
<p><a href="https://github.com/pharmaverse/admiralci/actions/workflows/readme-render.yml" class="external-link"><img src="https://github.com/pharmaverse/admiralci/actions/workflows/readme-render.yml/badge.svg" alt="Render README"></a></p>
<p>If your codebase uses a <a href="README.Rmd"><code>README.Rmd</code> file</a> (like this repository), then this workflow will automatically render a <code>README.md</code> and commit it to your branch.</p>
</div>
<div class="section level3">
<h3 id="spellcheckyml">
<a href="https://github.com/pharmaverse/admiralci/blob/HEAD/.github/workflows/spellcheck.yml"><code>spellcheck.yml</code></a><a class="anchor" aria-label="anchor" href="#spellcheckyml"></a>
</h3>
<p><a href="https://github.com/pharmaverse/admiralci/actions/workflows/spellcheck.yml" class="external-link"><img src="https://github.com/pharmaverse/admiralci/actions/workflows/spellcheck.yml/badge.svg" alt="Spelling"></a></p>
<p>Spellchecks are performed by this workflow, and the <a href="https://docs.ropensci.org/spelling/" class="external-link"><code>spelling</code></a> R package is used to detect spelling mistakes. Failed workflows typically indicate misspelled words. In the <code>inst/WORDLIST</code> file, you can add words and or acronyms that you want the spell check to ignore, for example <em>CDISC</em> is not an English word but a common acronym used within Pharma. The workflow will flag this until a user adds it to the <code>inst/WORDLIST</code>.</p>
</div>
<div class="section level3">
<h3 id="styleyml">
<a href="https://github.com/pharmaverse/admiralci/blob/HEAD/.github/workflows/style.yml"><code>style.yml</code></a><a class="anchor" aria-label="anchor" href="#styleyml"></a>
</h3>
<p><a href="https://github.com/pharmaverse/admiralci/actions/workflows/style.yml" class="external-link"><img src="https://github.com/pharmaverse/admiralci/actions/workflows/style.yml/badge.svg" alt="Style"></a></p>
<p>Code style is enforced via the <a href="https://styler.r-lib.org/" class="external-link"><code>styler</code></a> R package. Custom style configurations, if any, will be honored by this workflow.</p>
<p>Failed workflows are indicative of unstyled code.</p>
</div>
</div>
<div class="section level2">
<h2 id="how-to-use-these-workflows">How to use these workflows?<a class="anchor" aria-label="anchor" href="#how-to-use-these-workflows"></a>
</h2>
<div class="section level3">
<h3 id="reuse-recommended">Reuse (recommended)<a class="anchor" aria-label="anchor" href="#reuse-recommended"></a>
</h3>
<p>You could add just <em>one</em> file called <code>.github/workflows/common.yml</code> to directly import these workflows while receiving the latest updates and enhancements, given that the workflows defined in this repository are reusable via the <a href="https://docs.github.com/en/actions/using-workflows/reusing-workflows" class="external-link"><code>workflow_call</code></a> GitHub Actions event.</p>
<p>The contents of the <code>.github/workflows/common.yml</code> file are available in the <a href="./.github/workflows/common.yml.inactive"><code>common.yml.inactive</code></a> file in this repository. Feature flags in the form of <code>workflow_call</code> inputs are available for customization purposes. Feature flags are documented in the same file - look for the <code>env:</code> and <code>with:</code> hashes in the file for feature flags.</p>
</div>
<div class="section level3">
<h3 id="copy-as-is-not-recommended">Copy as-is (not recommended)<a class="anchor" aria-label="anchor" href="#copy-as-is-not-recommended"></a>
</h3>
<p>Alternatively, if you want a high level of customization, you could simply copy the workflows as-is from this repository to your repository and modify them to your liking.</p>
<!-- Begin links --><!-- End links -->
</div>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/pharmaverse/admiralci/" class="external-link">Browse source code</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small>Apache License (&gt;= 2)</small></li>
</ul>
</div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing admiralci</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Open Source <br><small class="roles"> Author, maintainer </small>  </li>
</ul>
</div>



  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by Open Source.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.6.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
